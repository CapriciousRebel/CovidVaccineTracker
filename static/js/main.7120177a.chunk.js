(this.webpackJsonpcovidvaccinetracker=this.webpackJsonpcovidvaccinetracker||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(11),i=n.n(s),r=(n(84),n(72)),l=n(12),o=(n(85),n(144)),j=n(145),b=n(146),d=n.p+"static/media/logo192.5c9b380d.png",u=function(){var e=new Date;return String(e.getDate()).padStart(2,"0")+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+e.getFullYear()};var p=function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)},m=n(55),h=n.n(m),x=n(2),f=function(){return Object(x.jsx)(o.a,{fluid:!0,style:{backgroundColor:"#0CB8CF"},className:"h-10 m-0",children:Object(x.jsxs)(j.a,{className:"d-flex align-items-center  h-100",children:[Object(x.jsx)(b.a,{xs:3,lg:1,className:"d-flex flex-row align-items-center justify-content-center",children:Object(x.jsx)("img",{alt:"Covid Vaccine Tracker",src:d,height:"40",width:"40",className:"d-inline-block align-top"})}),Object(x.jsx)(b.a,{xs:9,lg:9,children:Object(x.jsx)("h2",{children:"Covid Vaccine Tracker"})}),Object(x.jsx)(b.a,{className:"d-flex justify-content-start d-none d-sm-block d-sm-none d-md-block d-md-none d-lg-block",xs:0,children:Object(x.jsxs)("span",{onClick:function(){p("https://github.com/CapriciousRebel/CovidVaccineTracker")},children:["Source Code ",Object(x.jsx)(h.a,{fontSize:"small"})]})})]})})},O=n(22),y=n(69),v=n.n(y),g=n(68),w=n.n(g),S=n(73),N=n(152),T=function(e){return Object(x.jsxs)(b.a,{className:"w-10rem p-3 m-0 d-flex flex-column align-items-center ",children:[Object(x.jsx)(N.a,{checked:e.type[e.name],onChange:function(t){var n=Object(S.a)({},e.type);n[t.target.name]=t.target.checked,e.setType(n)},name:e.name,color:"primary",size:"medium"}),Object(x.jsx)("p",{className:"w-10rem p-0 m-0 text-center font-weight-bold",children:e.name})]})},k=function(e){return Object(x.jsx)(o.a,{fluid:!0,children:Object(x.jsxs)(j.a,{className:"border-bottom border-top mx-3",children:[Object(x.jsx)(T,{type:e.type,setType:e.setType,name:"Covaxin"}),Object(x.jsx)(T,{type:e.type,setType:e.setType,name:"Covishield"}),Object(x.jsx)(T,{type:e.type,setType:e.setType,name:"Free"}),Object(x.jsx)(T,{type:e.type,setType:e.setType,name:"Paid"}),Object(x.jsx)(T,{type:e.type,setType:e.setType,name:"18+"}),Object(x.jsx)(T,{type:e.type,setType:e.setType,name:"45+"})]})})},C=function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),c=n[0],s=n[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(o.a,{className:c?"d-flex align-items-center justify-content-center":"d-flex align-items-center justify-content-center border-bottom",onClick:function(){s(!c)},children:[Object(x.jsx)("h5",{className:"m-0",children:"Filters"}),c?Object(x.jsx)(w.a,{fontSize:"large"}):Object(x.jsx)(v.a,{fontSize:"large"})]}),c?Object(x.jsx)(k,{type:e.filterType,setType:e.setFilterType}):null]})},F=n(29),E=n.n(F),_=n(43),A=n(153),z=n(150),D=n(151),I=n(70),B=n.n(I),M=function(){var e=Object(_.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode=".concat(t,"&date=").concat(u()),e.abrupt("return",B.a.get(n,{}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=n(71),R=n.p+"static/media/notification.599e0ca5.mp3",V=function(e){var t=Object(a.useState)(""),n=Object(O.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(O.a)(i,2),l=r[0],d=r[1],u=Object(P.a)(R),p=Object(O.a)(u,1)[0],m=Object(a.useState)(null),h=Object(O.a)(m,2),f=h[0],y=h[1],v=function(){var t=Object(_.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("requesting: ",c),M(c).then((function(t){var n=[];t.data.centers.forEach((function(e){e.sessions.forEach((function(t){0!==t.available_capacity&&N(e.fee_type)&&w(t.vaccine)&&S(t.min_age_limit)&&n.push({name:e.name,available_capacity:t.available_capacity,date:t.date.split("-")[0]+"/"+t.date.split("-")[1]})}))})),0!==n.length?(p(),e.setAvailableSessions(n)):e.setAvailableSessions(null)})).catch((function(t){console.log("Error while fetching data for pincode: ",t),e.setAvailableSessions(null)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(_.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setSubmitOnce(!0),d(c),v(),f&&clearInterval(f),y(setInterval(v,5e3));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(t){return e.filterType[t.charAt(0)+t.substring(1).toLowerCase()]},S=function(t){return e.filterType[t+"+"]},N=function(t){return e.filterType[t]};return Object(x.jsxs)(o.a,{className:"d-flex flex-column align-items-center ",children:[Object(x.jsxs)(b.a,{className:"w-15rem pt-5",children:[Object(x.jsx)(j.a,{children:Object(x.jsx)(D.a,{id:"standard-basic",label:"Enter an Indian pincode...",onChange:function(e){return function(e){s(e.target.value)}(e)},onKeyDown:function(e){"Enter"===e.key&&g()}})}),Object(x.jsx)(j.a,{className:"mt-5 w-10rem",children:Object(x.jsx)(A.a,{variant:"primary",type:"submit",onClick:g,className:" align-self-center",children:"Submit"})})]}),e.submitOnce&&c?Object(x.jsxs)(j.a,{className:"d-flex align-items-start my-5 py-2 border-top border-bottom",children:[Object(x.jsx)(b.a,{xs:1,children:Object(x.jsx)(z.a,{size:"sm",animation:"grow"})}),Object(x.jsx)(b.a,{children:Object(x.jsxs)("p",{className:"m-0",children:["Tracking for pincode: ",l]})})]}):null]})},q=function(e){return Object(x.jsxs)(j.a,{className:"border-bottom",onClick:function(){return p("https://www.cowin.gov.in/home")},children:[Object(x.jsx)(b.a,{xs:6,className:"border-right",children:e.name}),Object(x.jsx)(b.a,{children:e.available_capacity}),Object(x.jsx)(b.a,{children:e.date})]})},J=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(j.a,{className:"border-bottom",children:[Object(x.jsx)(b.a,{xs:6,children:Object(x.jsx)("p",{className:"font-weight-bold",children:"Name"})}),Object(x.jsx)(b.a,{children:"Capacity"}),Object(x.jsx)(b.a,{children:"Date"})]}),e.availableSessions?e.availableSessions.map((function(e,t){return Object(x.jsx)(q,{name:e.name,available_capacity:e.available_capacity,date:e.date},t)})):Object(x.jsx)("h3",{className:"m-0",children:"No slots available right now satisfying the requirements, you'll be notified when slots are found..."})]})},K={backgroundColor:"#F8F8F8",borderTop:"1px solid #E7E7E7",textAlign:"center",padding:"20px",position:"fixed",left:"0",bottom:"0",height:"60px",width:"100%"},L={display:"block",padding:"20px",height:"60px",width:"100%"},Y=function(e){var t=e.children;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:L}),Object(x.jsx)("div",{style:K,children:t})]})},G=function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(O.a)(s,2),r=i[0],l=i[1],d=Object(a.useState)({Covishield:!0,Covaxin:!0,Free:!0,Paid:!0,"18+":!0,"45+":!0}),u=Object(O.a)(d,2),m=u[0],h=u[1];return Object(a.useEffect)((function(){console.log("availableSessions: ",n)}),[n]),Object(x.jsxs)(o.a,{fluid:!0,children:[Object(x.jsx)(C,{filterType:m,setFilterType:h}),Object(x.jsx)(V,{availableSessions:n,setAvailableSessions:c,filterType:m,submitOnce:r,setSubmitOnce:l}),r?Object(x.jsx)(J,{filterType:m,availableSessions:n,setAvailableSessions:c}):null,Object(x.jsx)(Y,{children:Object(x.jsx)(j.a,{children:Object(x.jsxs)(b.a,{className:"d-flex justify-content-center",children:["Made with \u2764\ufe0f by ",Object(x.jsx)("pre",{children:" "}),Object(x.jsx)("span",{onClick:function(){p("https://github.com/CapriciousRebel")},className:"mr-5",children:"CapriciousRebel"})]})})})]})};var H=function(){return Object(x.jsx)(r.a,{children:Object(x.jsxs)(o.a,{fluid:!0,className:"m-0 p-0",children:[Object(x.jsx)("div",{className:"h-10",children:Object(x.jsx)(f,{})}),Object(x.jsx)("div",{className:"h-90",children:Object(x.jsx)(l.a,{exact:!0,path:"/",component:G})})]})})};i.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(H,{})}),document.getElementById("root"))},84:function(e,t,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.7120177a.chunk.js.map